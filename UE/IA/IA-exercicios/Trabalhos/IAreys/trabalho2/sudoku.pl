estado_inicial(e([

v(c(5,6),[1,2,3,4,5,6,7,8,9],_),
v(c(2,5),[1,2,3,4,5,6,7,8,9],_),
v(c(3,5),[1,2,3,4,5,6,7,8,9],_),
v(c(3,7),[1,2,3,4,5,6,7,8,9],_),
v(c(3,8),[1,2,3,4,5,6,7,8,9],_),
v(c(3,9),[1,2,3,4,5,6,7,8,9],_),
v(c(4,4),[1,2,3,4,5,6,7,8,9],_),
v(c(4,5),[1,2,3,4,5,6,7,8,9],_),
v(c(4,6),[1,2,3,4,5,6,7,8,9],_),
v(c(4,7),[1,2,3,4,5,6,7,8,9],_),
v(c(4,8),[1,2,3,4,5,6,7,8,9],_),
v(c(4,9),[1,2,3,4,5,6,7,8,9],_),
v(c(5,7),[1,2,3,4,5,6,7,8,9],_),
v(c(5,8),[1,2,3,4,5,6,7,8,9],_),
v(c(5,9),[1,2,3,4,5,6,7,8,9],_),
v(c(9,2),[1,2,3,4,5,6,7,8,9],_)

], 

[
v(c(1,1),[1,2,3,4,5,6,7,8,9],5),
v(c(1,2),[1,2,3,4,5,6,7,8,9],8),
v(c(1,3),[1,2,3,4,5,6,7,8,9],6),
v(c(1,4),[1,2,3,4,5,6,7,8,9],3),
v(c(1,5),[1,2,3,4,5,6,7,8,9],7),
v(c(1,6),[1,2,3,4,5,6,7,8,9],4),
v(c(1,7),[1,2,3,4,5,6,7,8,9],9),
v(c(1,8),[1,2,3,4,5,6,7,8,9],1),
v(c(1,9),[1,2,3,4,5,6,7,8,9],2),
v(c(2,1),[1,2,3,4,5,6,7,8,9],1),
v(c(2,2),[1,2,3,4,5,6,7,8,9],3),
v(c(2,3),[1,2,3,4,5,6,7,8,9],7),
v(c(2,4),[1,2,3,4,5,6,7,8,9],9),
v(c(2,6),[1,2,3,4,5,6,7,8,9],2),
v(c(2,7),[1,2,3,4,5,6,7,8,9],8),
v(c(2,8),[1,2,3,4,5,6,7,8,9],6),
v(c(2,9),[1,2,3,4,5,6,7,8,9],4),
v(c(3,1),[1,2,3,4,5,6,7,8,9],2),
v(c(3,2),[1,2,3,4,5,6,7,8,9],4),
v(c(3,3),[1,2,3,4,5,6,7,8,9],9),
v(c(3,4),[1,2,3,4,5,6,7,8,9],8),
v(c(3,6),[1,2,3,4,5,6,7,8,9],6),
v(c(4,1),[1,2,3,4,5,6,7,8,9],8),
v(c(4,2),[1,2,3,4,5,6,7,8,9],7),
v(c(4,3),[1,2,3,4,5,6,7,8,9],2),
v(c(5,5),[1,2,3,4,5,6,7,8,9],8),
v(c(6,1),[1,2,3,4,5,6,7,8,9],4),
v(c(6,2),[1,2,3,4,5,6,7,8,9],1),
v(c(6,3),[1,2,3,4,5,6,7,8,9],5),
v(c(6,4),[1,2,3,4,5,6,7,8,9],6),
v(c(6,5),[1,2,3,4,5,6,7,8,9],2),
v(c(6,6),[1,2,3,4,5,6,7,8,9],9),
v(c(6,7),[1,2,3,4,5,6,7,8,9],7),
v(c(6,8),[1,2,3,4,5,6,7,8,9],3),
v(c(6,9),[1,2,3,4,5,6,7,8,9],8),
v(c(7,1),[1,2,3,4,5,6,7,8,9],9),
v(c(7,2),[1,2,3,4,5,6,7,8,9],5),
v(c(7,3),[1,2,3,4,5,6,7,8,9],4),
v(c(7,4),[1,2,3,4,5,6,7,8,9],2),
v(c(7,5),[1,2,3,4,5,6,7,8,9],3),
v(c(7,6),[1,2,3,4,5,6,7,8,9],7),
v(c(7,7),[1,2,3,4,5,6,7,8,9],6),
v(c(7,8),[1,2,3,4,5,6,7,8,9],8),
v(c(7,9),[1,2,3,4,5,6,7,8,9],1),
v(c(8,1),[1,2,3,4,5,6,7,8,9],7),
v(c(8,2),[1,2,3,4,5,6,7,8,9],2),
v(c(8,3),[1,2,3,4,5,6,7,8,9],1),
v(c(9,3),[1,2,3,4,5,6,7,8,9],8),
v(c(9,4),[1,2,3,4,5,6,7,8,9],1),
v(c(9,5),[1,2,3,4,5,6,7,8,9],9),
v(c(8,8),[1,2,3,4,5,6,7,8,9],5),
v(c(8,9),[1,2,3,4,5,6,7,8,9],9),
v(c(8,5),[1,2,3,4,5,6,7,8,9],6),
v(c(5,1),[1,2,3,4,5,6,7,8,9],6),
v(c(5,2),[1,2,3,4,5,6,7,8,9],9),
v(c(5,3),[1,2,3,4,5,6,7,8,9],3),
v(c(5,4),[1,2,3,4,5,6,7,8,9],7),
v(c(8,4),[1,2,3,4,5,6,7,8,9],4),
v(c(8,6),[1,2,3,4,5,6,7,8,9],8),
v(c(8,7),[1,2,3,4,5,6,7,8,9],3),
v(c(9,1),[1,2,3,4,5,6,7,8,9],3),
v(c(9,6),[1,2,3,4,5,6,7,8,9],5),
v(c(9,7),[1,2,3,4,5,6,7,8,9],4),
v(c(9,8),[1,2,3,4,5,6,7,8,9],2),
v(c(9,9),[1,2,3,4,5,6,7,8,9],7)
])).

ve_restricoes(e(_,Afect)):-
  \+ (member(v(c(I,J),_,Vj), Afect), member(v(c(I,K),_,Vk),Afect),  K \=J,Vk=Vj),
  \+ (member(v(c(I,J),_,Vi), Afect), member(v(c(K,J),_,Vk),Afect),  K \=I,Vi=Vk),
  ve_quadrado(1, 1, Afect).

ve_quadrado(10, 10, _).
ve_quadrado(I, 10, Afect):-
  I < 8, 
  I2 is I+3,
  ve_quadrado(I2,1,Afect).


ve_quadrado(I,J,Afect):-
    I1 is I+1,
    J1 is J+1,
    \+ (member(v(c(I,J),_,Vi), Afect), member(v(c(I1,J1),_,Vj),Afect),  Vi=Vj),
    I2 is I1+1,
    J2 is J1+1,
    \+ (member(v(c(I1,J1),_,Vi), Afect), member(v(c(I2,J2),_,Vj),Afect),  Vi=Vj),
    \+ (member(v(c(I1,J1),_,Vi), Afect), member(v(c(I1,J2),_,Vj),Afect),  Vi=Vj),
    \+ (member(v(c(I1,J1),_,Vi), Afect), member(v(c(I2,J1),_,Vj),Afect),  Vi=Vj),
    J3 is J2+1,
    ve_quadrado(I, J3, Afect).


esc(L):- sort(L,L1),nl, esc1(L1,1).
esc1([],_):-!.
esc1([v(_,_,V)|R], N):- N < 9, write(V), write(' '), N1 is N+1, esc1(R,N1),!.
esc1([v(_,_,V)|R], N):- N = 9, write(V), write(' '), nl, N1 is 1, esc1(R,N1),!.
